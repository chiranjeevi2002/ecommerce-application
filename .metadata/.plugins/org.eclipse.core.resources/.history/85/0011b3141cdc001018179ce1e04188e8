package com.ecommerce.productservice.dto;


import java.util.List;

public record ProductValidationResult(
        Long storeId,
        List<Long> requestedProductIds,
        List<Long> validProductIds,
        List<Long> invalidProductIds,
        boolean valid
) {
    public static ProductValidationResult of(
            Long storeId,
            List<Long> requested,
            List<Long> validProductIds
    ) {
        var invalid = requested.stream()
                .filter(id -> !validProductIds.contains(id))
                .toList();

        return new ProductValidationResult(
                storeId,
                requested,
                validProductIds,
                invalid,
                invalid.isEmpty()
        );
    }
}
